<!DOCTYPE html>
<html>

	<head>
		<title>Crea la tua casella di posta!</title>		
		<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="style.css">
		
		<script>
		$(document).ready(function(){
		// Cookies
		    localStorage.setItem("cookieSeen","shown");
		    $(".cookie-banner").delay(100).fadeIn();
		    $(".cookie-banner").click(function () {
			    $(".cookie-banner").delay(100).fadeOut();
		    });
		});

		function verifica()
		{
			var esito_finale="",riassunto="";
			// Recupero i dati presenti nella form
			var nome=document.getElementById("nome").value;
			var cognome=document.getElementById("cognome").value;
			var femmina=document.getElementById("femmina").checked;
			var maschio=document.getElementById("maschio").checked;
			var fascia_eta=document.getElementById("fascia").value;
			var pubblicita=document.getElementById("interesse1").checked;
			var newsletter=document.getElementById("interesse2").checked;
			var offerte=document.getElementById("interesse3").checked;
			var username=document.getElementById("username").value;
			var dom1=document.getElementById("dom1").checked;
			var dom2=document.getElementById("dom2").checked;
			var dom3=document.getElementById("dom3").checked;
			var pass1=document.getElementById("password1").value;
			var pass2=document.getElementById("password2").value;
			var autorizza=document.getElementById("autorizza1").checked;
			// Test dei campi "Nome" e "Cognome"
			if(nome=="")
				esito_finale+="<p>- Nome mancante!</p>";
			else
				riassunto+="<p>Nome: "+nome+"</p>";
			if(cognome=="")
				esito_finale+="<p>- Cognome mancante!</p>"
			else
				riassunto+="<p>Cognome: "+cognome+"</p>";
			// Sesso
			riassunto+="<p>Sesso: "
			if(femmina)
				riassunto+"Femminile";
			else
				if(maschio)
					riassunto+="Maschile";
				else
					riassunto+="non specificato";
			riassunto+="</p>";
			// Fascia d'età
			switch(fascia_eta)
			{
				case "0":riassunto+="<p>Età: non specificata!</p>";break;
				case "1":riassunto+="<p>Età: minore di 30 anni</p>";break;
				case "2":riassunto+="<p>Età: compresa tra 31 e 50 anni (estremi inclusi)</p>";break;
				case "3":riassunto+="<p>Età: maggiore di 50 anni</p>";break;
			}
			// Interessato a...
			riassunto+="<p>Interessato a ricevere: ";
			if(!pubblicita&&!newsletter&&!offerte)
				riassunto+="nessuna comunicazione";
			else
				{
					if(pubblicita)
						riassunto+="Pubblicità  ";
					if(newsletter)
						riassunto+="Newsletter  ";
					if(offerte)
						riassunto+="Offerte  ";
				}
			riassunto+="</p>";
			// Username
			if(username.length<5)
				esito_finale+="<p>- Username non valido!</p>"
			else
				riassunto+="<p>Username: "+username+"</p>";
			// Dominio
			riassunto+="<p>Dominio: ";
			if(!dom1&&!dom2&&!dom3)
				esito_finale+="- Dominio: non specificato!";
			else
				{
					if(dom1)
						riassunto+="itismarconi.it";
					if(dom2)
						riassunto+="informatica.net";
					if(dom3)
						riassunto+="sit.marconi.org";
				}
			riassunto+="</p>";
			// Password
			if(pass1=="")
				esito_finale+="<p>- Password non specificata!</p>"
			else
				if(pass1.length<8)
					esito_finale+="<p>- Password troppo corta!</p>"
				else
					if(pass1!=pass2)
						esito_finale+="<p>- Le due password non coincidono!</p>"
					else
						riassunto+="<p>Password: "+pass1+"</p>";
			// Autorizzazione al trattamento dei dati
			if(!autorizza)
				esito_finale+='<p>- Selezionare "Autorizzo al trattamento delle informazioni"!</p>'


			if(esito_finale!="")
				{
				esito_finale="Esito della verifica:<p>"+esito_finale+"</p><p>Ricontrolla!</p>";
				document.getElementById("esito_finale").innerHTML=esito_finale;
				}
			else
				document.getElementById("esito_finale").innerHTML="<p style='background-color: green'>TUTTO OK!</p>"+riassunto;

		}
		function seleziona_interessi()
		{
			document.getElementById("interesse1").checked=true;
			document.getElementById("interesse2").checked=true;
			document.getElementById("interesse3").checked=true;
		}
		</script>
	</head>

	<body>
		
		<div class="form_gruppo">
			<label class="form_label-titolo">Crea la tua casella di posta!</label>
		</div>
		

		<main>	
			<fieldset>
				<legend align="center" class="form_label">Dati dell'utente</legend>
				<p>
					<label class="form_label-obbligatorio"> *Campi obbligatori</label>
				</p>

				<p>
					<label class="form_label">Nome* </label>
					<input type="text" class="form_input" id="nome" />
				</p>

				<p>
					<label class="form_label">Cognome* </label>
					<input type="text" class="form_input" id="cognome" />
				</p>

				<p>
					<label class="form_label">Sesso</label>
					<label class="form_label">F </label><input type="radio" name="sex" id="femmina" />
					<label class="form_label">M </label><input type="radio" name="sex" id="maschio" />
				</p>

				<p>
					<label class="form_label">Fascia età</label>
					<select id="fascia" class="form_input">
						<option value="0"> Selezionare
						<option value="1"> 18-30
						<option value="2"> 31-50
						<option value="3"> 50-70
					</select>
                                </p>
				
				<p>
					<label class = "form_label"> Residenza </label>					
					<select id = "residenza" class = "form_input">
						<option value = "Seleziona"> Seleziona una provincia </option>			
						<option value = "Bergamo"> Bergamo </option>
						<option value = "Brescia"> Brescia </option>	
						<option value = "Como"> Como </option>
						<option value = "Cremona"> Cremona </option>
						<option value = "Lecco"> Lecco </option>
						<option value = "Lodi"> Lodi </option>
						<option value = "Mantova"> Mantova </option>				
						<option value = "Milano"> Milano </option>
						<option value = "Monza e della Brianza"> Monza e della Brianza </option>				
						<option value = "Pavia"> Pavia </option>
						<option value = "Sondrio"> Sondrio </option>
						<option value = "Varese"> Varese </option>
					</select>
				</p>	
				
				<p>
					<label class = "form_label">  Professione  </label>
					<select id = "professione" class = "form_input">
						<option value = "seleziona"> Seleziona </option>
						<option value = "studente"> studente </option>
						<option value = "insegnante"> insegnante </option>
						<option value = "dirigente"> dirigente </option>	
						<option value = "operaio"> operaio  </option>
						<option value = "impiegato"> impiegato </option>
						<option value= "imprenditore"> imprenditore </option>
                                       </select>
                                </p>

				<p>
					<label class="form_label">Sono interessato a ricevere</label><br>
					<label class="form_label">Pubblicità</label><input type="checkbox" id="interesse1" />
					<label class="form_label">Newsletter</label><input type="checkbox" id="interesse2" />
					<label class="form_label">Offerte promozionali</label><input type="checkbox" id="interesse3" />
					<label class="form_label">Seleziona tutto</label><input type="checkbox" onclick="seleziona_interessi();" />
				</p>
			</fieldset>

			<fieldset>
				<legend align="center" class="form_label">Dati della casella di posta</legend>
				<label class="form_label">Username* (minimo 5 caratteri) </label>
				<input type="text" class="form_input" id="username"/>

				<p>
					<label class="form_label">Dominio*</label>
					<input type="radio" name="dominio" id="dom1" /><label class="form_label">itismarconi.it</label>
					<input type="radio" name="dominio" id="dom2" /><label class="form_label">informatica.net</label>
					<input type="radio" name="dominio" id="dom3" /><label class="form_label">sit.marconi.org</label>
				</p>

				<p>
					<label class="form_label">Password (minimo 8 caratteri)* </label>
					<input type="password" class="form_input" id="password1" />
				</p>

				<p>
					<label class="form_label">Ripeti la password* </label>
					<input type="password" class="form_input" id="password2" />
				</p>

				<p>
					<label class="form_label">Autorizzo al trattamento delle informazioni* </label>
					<label class="form_label">Sì </label><input type="radio" name="autorizzazione" id="autorizza1" />
					<label class="form_label">No </label><input type="radio"checked  name="autorizzazione" id="autorizza2" />
				</p>
			</fieldset>

			<p class="form_gruppo-btn">
				<input type="submit" class="form_btn" value="INVIA" onclick="verifica();">
				<input type="reset" class="form_btn" value="ANNULLA">
			</p>

			<p>
				<div id="esito_finale"></div>
			</p>

			<div class="cookie-banner" style="display: none;">
				<p>
					By using our website, you agree to our
					<a href="insert-link">cookie policy</a>
				</p>
				<button class="close">&times;</button>
			</div>
		</main>
	</body>
</html>
